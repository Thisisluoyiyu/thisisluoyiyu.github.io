import{_ as h}from"./ValaxyMain.vue_vue_type_style_index_0_lang.CFvWi_xj.js";import{e as m,a as b,u as v}from"./chunks/vue-router.CAt55Yzq.js";import{O as f,a3 as a,Y as t,S as s,V as e,u as y,N as k,p as C}from"./framework.Bx4IBBtZ.js";import"./app.D3ctC_Wl.js";import"./chunks/dayjs.DRNXKsfK.js";import"./chunks/@vueuse/motion.Byj5MUCG.js";import"./chunks/vue-i18n.DwLH6cq3.js";import"./chunks/pinia.CI9RAdk9.js";import"./chunks/nprogress.Y9-A6VbA.js";import"./YunComment.vue_vue_type_style_index_0_lang.CZYDag5Y.js";import"./index.C5okkQwF.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.DSDYc4Us.js";import"./post.Ln3noTiG.js";const S=m("/posts/An-SSH-configuration-error-caused-a-failure-during-blog-deployment",async l=>JSON.parse('{"title":"ssh配置错误导致博客部署时报错","description":"","frontmatter":{"title":"ssh配置错误导致博客部署时报错","tags":["hexo","blog"],"date":"2025-01-12 17:27:42","categories":["技术"],"cover":"https://www.yiurblog.top/cywl.jpg"},"headers":[],"relativePath":"pages/posts/An-SSH-configuration-error-caused-a-failure-during-blog-deployment.md","lastUpdated":1769776689000}'),{lazy:(l,o)=>l.name===o.name}),G={__name:"An-SSH-configuration-error-caused-a-failure-during-blog-deployment",setup(l,{expose:o}){var r;const{data:p}=S(),u=v(),d=b(),i=Object.assign(d.meta.frontmatter||{},((r=p.value)==null?void 0:r.frontmatter)||{});return u.currentRoute.value.data=p.value,C("valaxy:frontmatter",i),globalThis.$frontmatter=i,o({frontmatter:{title:"ssh配置错误导致博客部署时报错",tags:["hexo","blog"],date:"2025-01-12 17:27:42",categories:["技术"],cover:"https://www.yiurblog.top/cywl.jpg"}}),(n,c)=>{const g=h;return k(),f(g,{frontmatter:y(i)},{"main-content-md":a(()=>[...c[0]||(c[0]=[s("p",null,"最近写好博客要部署的时候莫名其妙一直报错",-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"Please make sure you have the correct access rights")]),e(`
`),s("span",{class:"line"},[s("span",null,"and the repository exists.")]),e(`
`),s("span",{class:"line"},[s("span",null,"FATAL Something's wrong. Maybe you can find the solution here: https://hexo.io/docs/troubleshooting.html")]),e(`
`),s("span",{class:"line"},[s("span",null,"Error: Spawn failed")]),e(`
`),s("span",{class:"line"},[s("span",null,"    at ChildProcess.<anonymous> (C:\\Users\\Yiur\\Desktop\\yiurblog\\node_modules\\hexo-util\\lib\\spawn.js:51:21)")]),e(`
`),s("span",{class:"line"},[s("span",null,"    at ChildProcess.emit (node:events:519:28)")]),e(`
`),s("span",{class:"line"},[s("span",null,"    at cp.emit (C:\\Users\\Yiur\\Desktop\\yiurblog\\node_modules\\cross-spawn\\lib\\enoent.js:34:29)")]),e(`
`),s("span",{class:"line"},[s("span",null,"    at ChildProcess._handle.onexit (node:internal/child_process:294:12)")])])]),s("button",{class:"collapse"})],-1),s("p",null,"自己查了一下发现可能是文件权限、依赖未安装、Git配置问题这些",-1),s("p",null,"根据自己以前犯过的错误，怀疑是部署未完成时修改文件导致，于是删除了.deploy_git文件夹",-1),s("p",null,"然后使用",-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"git config --global core.autocrlf false")])])]),s("button",{class:"collapse"})],-1),s("p",null,"但是还是报错",-1),s("p",null,"之后怀疑时ssh配置问题，检查了config.yml文件里面的",-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"deploy:")]),e(`
`),s("span",{class:"line"},[s("span")]),e(`
`),s("span",{class:"line"},[s("span",null,"type: git")]),e(`
`),s("span",{class:"line"},[s("span")]),e(`
`),s("span",{class:"line"},[s("span",null,"repo:  git@github.com:username/username.github.io.git")]),e(`
`),s("span",{class:"line"},[s("span")]),e(`
`),s("span",{class:"line"},[s("span",null,"branch: master")])])]),s("button",{class:"collapse"})],-1),s("p",null,"也是正常的",-1),s("p",null,"之后意识到可能是电脑的ssh密钥问题，在github上查看settings-SSH and GPG keys-SSH keys-Authentication keys发现密钥没有正常链接",-1),s("p",null,"使用git尝试链接并且打印日志",-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"ssh -vT git@github.com")])])]),s("button",{class:"collapse"})],-1),s("p",null,"以下是报错信息",-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"OpenSSH_9.8p1, OpenSSL 3.2.2 4 Jun 2024")]),e(`
`),s("span",{class:"line"},[s("span",null,"debug1: Reading configuration data /c/Users/Yiur/.ssh/config")]),e(`
`),s("span",{class:"line"},[s("span",null,"debug1: /c/Users/Yiur/.ssh/config line 1: Applying options for github.com")]),e(`
`),s("span",{class:"line"},[s("span",null,"/c/Users/Yiur/.ssh/config line 3: Bad port 'uesrname/uesrname.github.io.git'.")]),e(`
`),s("span",{class:"line"},[s("span",null,"/c/Users/Yiur/.ssh/config: terminating, 1 bad configuration options")])])]),s("button",{class:"collapse"})],-1),s("p",null,"看到了自己朋友的username，才想起上次尝试在vscode远程控制她的仓库的事情，估计就是这时候做了点神人操作导致的",-1),s("p",null,"日志说的很明显了，打开/c/Users/Yiur/.ssh/config，修改内容为",-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"Host github.com")]),e(`
`),s("span",{class:"line"},[s("span",null,"    HostName github.com")]),e(`
`),s("span",{class:"line"},[s("span",null,"    User git")]),e(`
`),s("span",{class:"line"},[s("span",null,"    IdentityFile ~/.ssh/id_rsa")])])]),s("button",{class:"collapse"})],-1),s("p",null,"然后再使用",-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"ssh -T git@github.com")])])]),s("button",{class:"collapse"})],-1),s("p",null,"出现了",-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"Hi username! You've successfully authenticated, but GitHub does not provide shell access.")])])]),s("button",{class:"collapse"})],-1),s("p",null,[e("再使用 "),s("code",null,"hexo d"),e(" 成功部署")],-1)])]),"main-header":a(()=>[t(n.$slots,"main-header")]),"main-header-after":a(()=>[t(n.$slots,"main-header-after")]),"main-nav":a(()=>[t(n.$slots,"main-nav")]),"main-content-before":a(()=>[t(n.$slots,"main-content-before")]),"main-content":a(()=>[t(n.$slots,"main-content")]),"main-content-after":a(()=>[t(n.$slots,"main-content-after")]),"main-nav-before":a(()=>[t(n.$slots,"main-nav-before")]),"main-nav-after":a(()=>[t(n.$slots,"main-nav-after")]),comment:a(()=>[t(n.$slots,"comment")]),footer:a(()=>[t(n.$slots,"footer")]),aside:a(()=>[t(n.$slots,"aside")]),"aside-custom":a(()=>[t(n.$slots,"aside-custom")]),default:a(()=>[t(n.$slots,"default")]),_:3},8,["frontmatter"])}}};export{G as default,S as usePageData};
