import{_ as g}from"./ValaxyMain.vue_vue_type_style_index_0_lang.U8jQxPFt.js";import{e as m,a as b,u as v}from"./chunks/vue-router.CFAuuV4-.js";import{N as f,a3 as e,U as t,S as s,W as a,u as y,O as k,E as C}from"./framework.DInmvXHA.js";import"./app.B6xqUFyi.js";import"./chunks/dayjs.DRNXKsfK.js";import"./chunks/@vueuse/motion.Fd3P0jN5.js";import"./chunks/vue-i18n.xjuzZR8G.js";import"./chunks/pinia.Dp1Dxt4p.js";import"./chunks/nprogress.Y9-A6VbA.js";import"./YunComment.vue_vue_type_style_index_0_lang.BosAYGJ5.js";import"./index.C5okkQwF.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.rtPAiBZw.js";import"./post.gYrKufU-.js";const $=m("/posts/ssh配置错误导致博客部署时报错",async l=>JSON.parse('{"title":"ssh配置错误导致博客部署时报错","description":"","frontmatter":{"title":"ssh配置错误导致博客部署时报错","tags":["hexo","blog"],"date":"2025-01-12 17:27:42","categories":["技术"],"cover":"https://www.yiurblog.top/cywl.jpg"},"headers":[],"relativePath":"pages/posts/ssh配置错误导致博客部署时报错.md","lastUpdated":1760856691000}'),{lazy:(l,o)=>l.name===o.name}),G={__name:"ssh配置错误导致博客部署时报错",setup(l,{expose:o}){var c;const{data:p}=$(),u=v(),h=b(),i=Object.assign(h.meta.frontmatter||{},((c=p.value)==null?void 0:c.frontmatter)||{});return u.currentRoute.value.data=p.value,C("valaxy:frontmatter",i),globalThis.$frontmatter=i,o({frontmatter:{title:"ssh配置错误导致博客部署时报错",tags:["hexo","blog"],date:"2025-01-12 17:27:42",categories:["技术"],cover:"https://www.yiurblog.top/cywl.jpg"}}),(n,r)=>{const d=g;return k(),f(d,{frontmatter:y(i)},{"main-content-md":e(()=>[...r[0]||(r[0]=[s("p",null,"最近写好博客要部署的时候莫名其妙一直报错",-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"Please make sure you have the correct access rights")]),a(`
`),s("span",{class:"line"},[s("span",null,"and the repository exists.")]),a(`
`),s("span",{class:"line"},[s("span",null,"FATAL Something's wrong. Maybe you can find the solution here: https://hexo.io/docs/troubleshooting.html")]),a(`
`),s("span",{class:"line"},[s("span",null,"Error: Spawn failed")]),a(`
`),s("span",{class:"line"},[s("span",null,"    at ChildProcess.<anonymous> (C:\\Users\\Yiur\\Desktop\\yiurblog\\node_modules\\hexo-util\\lib\\spawn.js:51:21)")]),a(`
`),s("span",{class:"line"},[s("span",null,"    at ChildProcess.emit (node:events:519:28)")]),a(`
`),s("span",{class:"line"},[s("span",null,"    at cp.emit (C:\\Users\\Yiur\\Desktop\\yiurblog\\node_modules\\cross-spawn\\lib\\enoent.js:34:29)")]),a(`
`),s("span",{class:"line"},[s("span",null,"    at ChildProcess._handle.onexit (node:internal/child_process:294:12)")])])]),s("button",{class:"collapse"})],-1),s("p",null,"自己查了一下发现可能是文件权限、依赖未安装、Git配置问题这些",-1),s("p",null,"根据自己以前犯过的错误，怀疑是部署未完成时修改文件导致，于是删除了.deploy_git文件夹",-1),s("p",null,"然后使用",-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"git config --global core.autocrlf false")])])]),s("button",{class:"collapse"})],-1),s("p",null,"但是还是报错",-1),s("p",null,"之后怀疑时ssh配置问题，检查了config.yml文件里面的",-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"deploy:")]),a(`
`),s("span",{class:"line"},[s("span")]),a(`
`),s("span",{class:"line"},[s("span",null,"type: git")]),a(`
`),s("span",{class:"line"},[s("span")]),a(`
`),s("span",{class:"line"},[s("span",null,"repo:  git@github.com:username/username.github.io.git")]),a(`
`),s("span",{class:"line"},[s("span")]),a(`
`),s("span",{class:"line"},[s("span",null,"branch: master")])])]),s("button",{class:"collapse"})],-1),s("p",null,"也是正常的",-1),s("p",null,"之后意识到可能是电脑的ssh密钥问题，在github上查看settings-SSH and GPG keys-SSH keys-Authentication keys发现密钥没有正常链接",-1),s("p",null,"使用git尝试链接并且打印日志",-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"ssh -vT git@github.com")])])]),s("button",{class:"collapse"})],-1),s("p",null,"以下是报错信息",-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"OpenSSH_9.8p1, OpenSSL 3.2.2 4 Jun 2024")]),a(`
`),s("span",{class:"line"},[s("span",null,"debug1: Reading configuration data /c/Users/Yiur/.ssh/config")]),a(`
`),s("span",{class:"line"},[s("span",null,"debug1: /c/Users/Yiur/.ssh/config line 1: Applying options for github.com")]),a(`
`),s("span",{class:"line"},[s("span",null,"/c/Users/Yiur/.ssh/config line 3: Bad port 'uesrname/uesrname.github.io.git'.")]),a(`
`),s("span",{class:"line"},[s("span",null,"/c/Users/Yiur/.ssh/config: terminating, 1 bad configuration options")])])]),s("button",{class:"collapse"})],-1),s("p",null,"看到了自己朋友的username，才想起上次尝试在vscode远程控制她的仓库的事情，估计就是这时候做了点神人操作导致的",-1),s("p",null,"日志说的很明显了，打开/c/Users/Yiur/.ssh/config，修改内容为",-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"Host github.com")]),a(`
`),s("span",{class:"line"},[s("span",null,"    HostName github.com")]),a(`
`),s("span",{class:"line"},[s("span",null,"    User git")]),a(`
`),s("span",{class:"line"},[s("span",null,"    IdentityFile ~/.ssh/id_rsa")])])]),s("button",{class:"collapse"})],-1),s("p",null,"然后再使用",-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"ssh -T git@github.com")])])]),s("button",{class:"collapse"})],-1),s("p",null,"出现了",-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"Hi username! You've successfully authenticated, but GitHub does not provide shell access.")])])]),s("button",{class:"collapse"})],-1),s("p",null,[a("再使用 "),s("code",null,"hexo d"),a(" 成功部署")],-1)])]),"main-header":e(()=>[t(n.$slots,"main-header")]),"main-header-after":e(()=>[t(n.$slots,"main-header-after")]),"main-nav":e(()=>[t(n.$slots,"main-nav")]),"main-content-before":e(()=>[t(n.$slots,"main-content-before")]),"main-content":e(()=>[t(n.$slots,"main-content")]),"main-content-after":e(()=>[t(n.$slots,"main-content-after")]),"main-nav-before":e(()=>[t(n.$slots,"main-nav-before")]),"main-nav-after":e(()=>[t(n.$slots,"main-nav-after")]),comment:e(()=>[t(n.$slots,"comment")]),footer:e(()=>[t(n.$slots,"footer")]),aside:e(()=>[t(n.$slots,"aside")]),"aside-custom":e(()=>[t(n.$slots,"aside-custom")]),default:e(()=>[t(n.$slots,"default")]),_:3},8,["frontmatter"])}}};export{G as default,$ as usePageData};
