import{_ as g}from"./ValaxyMain.vue_vue_type_style_index_0_lang.CFvWi_xj.js";import{e as m,a as b,u as v}from"./chunks/vue-router.CAt55Yzq.js";import{O as w,a3 as a,Y as n,S as s,V as l,u as k,N as y,p as f}from"./framework.Bx4IBBtZ.js";import"./app.D3ctC_Wl.js";import"./chunks/dayjs.DRNXKsfK.js";import"./chunks/@vueuse/motion.Byj5MUCG.js";import"./chunks/vue-i18n.DwLH6cq3.js";import"./chunks/pinia.CI9RAdk9.js";import"./chunks/nprogress.Y9-A6VbA.js";import"./YunComment.vue_vue_type_style_index_0_lang.CZYDag5Y.js";import"./index.C5okkQwF.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.DSDYc4Us.js";import"./post.Ln3noTiG.js";const C=m("/posts/Debian-Using-WSL2-to-run-Debian",async t=>JSON.parse('{"title":"使用wsl2装载debian","description":"","frontmatter":{"layout":"post","title":"使用wsl2装载debian","tags":["Debian","wsl","windows","linux"],"date":"2025-10-19 13:22:07","categories":["技术"],"cover":"https://www.yiurblog.top/cywl.jpg"},"headers":[],"relativePath":"pages/posts/Debian-Using-WSL2-to-run-Debian.md","lastUpdated":1769776689000}'),{lazy:(t,i)=>t.name===i.name}),T={__name:"Debian-Using-WSL2-to-run-Debian",setup(t,{expose:i}){var c;const{data:p}=C(),r=v(),d=b(),o=Object.assign(d.meta.frontmatter||{},((c=p.value)==null?void 0:c.frontmatter)||{});return r.currentRoute.value.data=p.value,f("valaxy:frontmatter",o),globalThis.$frontmatter=o,i({frontmatter:{layout:"post",title:"使用wsl2装载debian",tags:["Debian","wsl","windows","linux"],date:"2025-10-19 13:22:07",categories:["技术"],cover:"https://www.yiurblog.top/cywl.jpg"}}),(e,u)=>{const h=g;return y(),w(h,{frontmatter:k(o)},{"main-content-md":a(()=>[...u[0]||(u[0]=[s("h1",{id:"检查虚拟化技术是否开启",tabindex:"-1"},[l("检查虚拟化技术是否开启 "),s("a",{class:"header-anchor",href:"#检查虚拟化技术是否开启","aria-label":'Permalink to "检查虚拟化技术是否开启"'},"​")],-1),s("p",null,[l("首先我们要按住"),s("code",null,"win+R"),l("然后输入"),s("code",null,"cmd"),l("打开命令行，输入")],-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"systeminfo")])])]),s("button",{class:"collapse"})],-1),s("p",null,"会看到",-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"Hyper-V 要求:     虚拟机监视器模式扩展: 是")]),l(`
`),s("span",{class:"line"},[s("span",null,"                  固件中已启用虚拟化: 是")]),l(`
`),s("span",{class:"line"},[s("span",null,"                  二级地址转换: 是")]),l(`
`),s("span",{class:"line"},[s("span",null,"                  数据执行保护可用: 是")])])]),s("button",{class:"collapse"})],-1),s("p",null,"这代表已经开启虚拟化技术，可以继续安装，如果电脑上安装过安卓模拟器或者VMware可能会显示",-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"Hyper-V 要求:       已检测到虚拟机监控程序。将不显示 Hyper-V 所需的功能。")])])]),s("button",{class:"collapse"})],-1),s("p",null,"这是由于Windows系统中只能有一个虚拟机监控程序（Hypervisor）在运行时控制硬件虚拟化资源，当系统检测到其他虚拟机监控程序正在运行时，为了避免资源冲突和不稳定的情况，Windows会自动禁用Hyper-V的相关功能，因此“将不显示 hyper-v 所需的功能”",-1),s("p",null,"不过这样子显示意味着虚拟化技术大概是启用了的",-1),s("h1",{id:"基本设置",tabindex:"-1"},[l("基本设置 "),s("a",{class:"header-anchor",href:"#基本设置","aria-label":'Permalink to "基本设置"'},"​")],-1),s("h2",{id:"开启开发者模式",tabindex:"-1"},[l("开启开发者模式 "),s("a",{class:"header-anchor",href:"#开启开发者模式","aria-label":'Permalink to "开启开发者模式"'},"​")],-1),s("p",null,[l("在windows中找到"),s("code",null,"设置-开发者设置（开发者选项）-开发人员模式"),l("并打开，弹出的“使用开发人员功能”窗口选择"),s("code",null,"是")],-1),s("h2",{id:"开启-适用于linux的windows子系统",tabindex:"-1"},[l("开启“适用于Linux的Windows子系统” "),s("a",{class:"header-anchor",href:"#开启-适用于linux的windows子系统","aria-label":'Permalink to "开启“适用于Linux的Windows子系统”"'},"​")],-1),s("p",null,[l("找到"),s("code",null,"控制面板-程序和功能-启用或关闭Windows功能"),l("，选中“适用于Linux的Windows子系统”，然后点击"),s("code",null,"确定")],-1),s("p",null,"完成后需要重新启动",-1),s("h1",{id:"安装linux发行版",tabindex:"-1"},[l("安装Linux发行版 "),s("a",{class:"header-anchor",href:"#安装linux发行版","aria-label":'Permalink to "安装Linux发行版"'},"​")],-1),s("p",null,"使用管理员模式运行PowerShell，输入",-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"wsl.exe --list --online")])])]),s("button",{class:"collapse"})],-1),s("p",null,"查看可用发行版",-1),s("p",null,"（可能会提示需要更新，根据提示操作更新后在输入，更新时最好使用vpn）",-1),s("p",null,"选择上述发行版名字进行安装",-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"wsl.exe --install [Distro]")])])]),s("button",{class:"collapse"})],-1),s("p",null,[s("em",null,[l("由于笔者要使用Debian这里使用"),s("code",null,"wsl.exe --install debian"),l("安装Debian的发行包,直接使用"),s("code",null,"wsl --install"),l("的话会默认安装Ubuntu")])],-1),s("p",null,"安装成功后会提示",-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"Enter new UNIX uesrname")])])]),s("button",{class:"collapse"})],-1),s("p",null,"和",-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"Enter new UNIX password")])])]),s("button",{class:"collapse"})],-1),s("p",null,"这里是创建用户名和密码",-1),s("p",null,"完成后就直接进入wsl的页面了",-1),s("h1",{id:"设置wsl",tabindex:"-1"},[l("设置wsl "),s("a",{class:"header-anchor",href:"#设置wsl","aria-label":'Permalink to "设置wsl"'},"​")],-1),s("p",null,"重新进入cmd",-1),s("p",null,"输入",-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"wsl --set-default-version 2")])])]),s("button",{class:"collapse"})],-1),s("p",null,"设置为WSL2",-1),s("p",null,"使用",-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"wsl -l -v")])])]),s("button",{class:"collapse"})],-1),s("p",null,"确认wsl下的机器和wsl版本",-1),s("p",null,"如果显示为1，使用下述代码将机器设置为2",-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"wsl --set-version <distro name> 2")])])]),s("button",{class:"collapse"})],-1),s("p",null,"完成后可以输入",-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"wsl --distribution <Distribution Name> --user <User Name>·")])])]),s("button",{class:"collapse"})],-1),s("p",null,"启动wsl",-1),s("p",null,"如果启动默认发行版直接输入",-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"wsl")])])]),s("button",{class:"collapse"})],-1),s("p",null,"即可",-1),s("p",null,"或者在搜索栏搜素Debian会出现快捷方式一样可以启用",-1),s("p",null,"如果要关闭wsl则输入",-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"wsl --shutdown")])])]),s("button",{class:"collapse"})],-1),s("h1",{id:"linux网络问题",tabindex:"-1"},[l("Linux网络问题 "),s("a",{class:"header-anchor",href:"#linux网络问题","aria-label":'Permalink to "Linux网络问题"'},"​")],-1),s("p",null,"有些时候启动了可能会显示",-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"wsl: 检测到 localhost 代理配置，但未镜像到 WSL。")]),l(`
`),s("span",{class:"line"},[s("span",null,"NAT 模式下的 WSL 不支持 localhost 代理")])])]),s("button",{class:"collapse"})],-1),s("p",null,"这是我们在本地使用了代理导致",-1),s("p",null,[l("最新版本可以直接在win搜素框寻找到"),s("code",null,"wsl steting")],-1),s("p",null,[l("打开后在"),s("code",null,"网络-网络模式"),l("选择为"),s("code",null,"Mirrored")],-1),s("p",null,"然后重启wsl即完成修改",-1),s("p",null,"当然，您也可以选择方案二",-1),s("p",null,[l("打开资源管理器，在"),s("code",null,"C:\\Users\\<your_username>"),l("下创建一个名为"),s("code",null,".wslconfig"),l("的文件，使用记事本打开向里面写入")],-1),s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[s("code",{"v-pre":""},[s("span",{class:"line"},[s("span",null,"[experimental]")]),l(`
`),s("span",{class:"line"},[s("span",null,"autoMemoryReclaim=gradual")]),l(`
`),s("span",{class:"line"},[s("span",null,"networkingMode=mirrored")]),l(`
`),s("span",{class:"line"},[s("span",null,"dnsTunneling=true")]),l(`
`),s("span",{class:"line"},[s("span",null,"firewall=true")]),l(`
`),s("span",{class:"line"},[s("span",null,"autoProxy=true")])])]),s("button",{class:"collapse"})],-1),s("p",null,"保存后重启wsl即可",-1)])]),"main-header":a(()=>[n(e.$slots,"main-header")]),"main-header-after":a(()=>[n(e.$slots,"main-header-after")]),"main-nav":a(()=>[n(e.$slots,"main-nav")]),"main-content-before":a(()=>[n(e.$slots,"main-content-before")]),"main-content":a(()=>[n(e.$slots,"main-content")]),"main-content-after":a(()=>[n(e.$slots,"main-content-after")]),"main-nav-before":a(()=>[n(e.$slots,"main-nav-before")]),"main-nav-after":a(()=>[n(e.$slots,"main-nav-after")]),comment:a(()=>[n(e.$slots,"comment")]),footer:a(()=>[n(e.$slots,"footer")]),aside:a(()=>[n(e.$slots,"aside")]),"aside-custom":a(()=>[n(e.$slots,"aside-custom")]),default:a(()=>[n(e.$slots,"default")]),_:3},8,["frontmatter"])}}};export{T as default,C as usePageData};
